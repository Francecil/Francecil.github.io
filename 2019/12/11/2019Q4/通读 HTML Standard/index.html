<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.1.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://gahing.top').hostname,
    root: '/',
    scheme: 'Mist',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="前言只有掌握了 N-1 层的原理，才能精通第 N 层的抽象                                    -- 佚名">
<meta property="og:type" content="article">
<meta property="og:title" content="通读 HTML Standard">
<meta property="og:url" content="https:&#x2F;&#x2F;gahing.top&#x2F;2019&#x2F;12&#x2F;11&#x2F;2019Q4&#x2F;%E9%80%9A%E8%AF%BB%20HTML%20Standard&#x2F;index.html">
<meta property="og:site_name" content="gahing 的博客">
<meta property="og:description" content="前言只有掌握了 N-1 层的原理，才能精通第 N 层的抽象                                    -- 佚名">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https:&#x2F;&#x2F;upload-images.jianshu.io&#x2F;upload_images&#x2F;9277731-e96debd8fc6b0bda.png?imageMogr2&#x2F;auto-orient&#x2F;strip%7CimageView2&#x2F;2&#x2F;w&#x2F;1240">
<meta property="og:image" content="https:&#x2F;&#x2F;upload-images.jianshu.io&#x2F;upload_images&#x2F;9277731-9ae0f5bbf0919398.png?imageMogr2&#x2F;auto-orient&#x2F;strip%7CimageView2&#x2F;2&#x2F;w&#x2F;1240">
<meta property="og:image" content="https:&#x2F;&#x2F;whatwg-cn.github.io&#x2F;html&#x2F;images&#x2F;parsing-model-overview.svg">
<meta property="article:published_time" content="2019-12-10T17:00:00.000Z">
<meta property="article:modified_time" content="2020-04-01T15:21:31.164Z">
<meta property="article:author" content="gahing">
<meta property="article:tag" content="HTML">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https:&#x2F;&#x2F;upload-images.jianshu.io&#x2F;upload_images&#x2F;9277731-e96debd8fc6b0bda.png?imageMogr2&#x2F;auto-orient&#x2F;strip%7CimageView2&#x2F;2&#x2F;w&#x2F;1240">

<link rel="canonical" href="https://gahing.top/2019/12/11/2019Q4/%E9%80%9A%E8%AF%BB%20HTML%20Standard/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>通读 HTML Standard | gahing 的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">gahing 的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">gahing.top</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://gahing.top/2019/12/11/2019Q4/%E9%80%9A%E8%AF%BB%20HTML%20Standard/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="gahing">
      <meta itemprop="description" content="微信公众号：切图仔的前端之路">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="gahing 的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          通读 HTML Standard
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-12-11 01:00:00" itemprop="dateCreated datePublished" datetime="2019-12-11T01:00:00+08:00">2019-12-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-04-01 23:21:31" itemprop="dateModified" datetime="2020-04-01T23:21:31+08:00">2020-04-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index">
                    <span itemprop="name">大前端</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><pre><code>只有掌握了 N-1 层的原理，才能精通第 N 层的抽象
                                   -- 佚名</code></pre><a id="more"></a>
<p>视工作类型而定，有时候想掌握 N-1 层的原理，可能还需要了解 N-2,N-3 …</p>
<p>于前端程序员而言，第 N 层的抽象即 HTML/CSS/JS 语法，N+1 层是各种前端框架，N-1 层是语法的内部实现和浏览器的工作原理，N-2 层可能就是渲染引擎，JS 引擎，JS Runtime的实现。</p>
<p>你见过没有掌握 HTML/CSS/JS 却精通 React 框架的人么？</p>
<p>本文只谈 HTML ，要想真正的精通 HTML ，我们需要知道 HTML 的内部实现，通读 HTML 规范是最有效的方法之一</p>
<p>通过本文，我们想要达到的目的有：</p>
<ol>
<li>了解 Web 平台的技术体系以及如何查找相关规范</li>
<li>了解 HTML 规范的整体结构，日后碰到疑难杂症可以快速排查原因</li>
</ol>
<p>PS: 本文描述中的 “标准” 和 “规范” 指的是同一东西</p>
<p>PS2: 为什么要看 HTML 规范？通常 API 文档只告诉了我们要这么做，却没告诉我们为什么不能这样做，通过看规范，我们能对 API 理解更加深刻</p>
<h2 id="查找规范"><a href="#查找规范" class="headerlink" title="查找规范"></a>查找规范</h2><p>首先明确一点， <a href="https://developer.mozilla.org/" target="_blank" rel="noopener">MDN</a> 不是规范文档，确切的说法是指南和开发教程，是对规范的二次解读。<br>相比规范，MDN 在行文格式和专业术语的运用上更容易让前端开发者接受。大部分情况下，MDN 已能够解决问题。当发现 MDN 上的解释不够清晰时，这时候就可以去看规范了。一般这种情况，都是比较深入底层的问题，毕竟，规范是用来给浏览器开发者看的。</p>
<p>Web 平台的浏览器相关技术众多，由不同的组织来确定规范。<br>早在之前，关于 HTML 和 DOM 标准， <a href="https://www.w3.org/" target="_blank" rel="noopener">W3C</a> 和 <a href="https://html.spec.whatwg.org/multipage/" target="_blank" rel="noopener">WHATWG</a> 都有各种的规范，这严重阻碍了 HTML 的发展。</p>
<blockquote>
<p>W3C 希望发布一个 finished 版本的 HTML5，而 WHATWG 想要不断维护该规范而不是将已知问题冻结在某个版本</p>
</blockquote>
<p>不过如今两个组织已<a href="https://www.w3.org/blog/news/archives/7753" target="_blank" rel="noopener">达成一致</a>，HTML 和 DOM 标准由 WHATWG 维护。</p>
<p>关于一项技术，如何确定对应的规范并找到规范文档，这里推荐一个网站：<a href="https://platform.html5.org/" target="_blank" rel="noopener">The Web platform: Browser technologies</a> 。<br>其列举了 Web 平台的浏览器相关技术的标准文档和协议规范地址，包括以下几大模块：</p>
<ol>
<li>HTML,DOM,ECMAScript等核心模块</li>
<li>CSS</li>
<li>Canvas,SVG 等图形模块</li>
<li>多媒体</li>
<li>平台交互，事件及消息传递</li>
<li>文件和存储</li>
<li>实时通信模块</li>
<li>Web Components</li>
<li>HTML 额外收录模块，如 Drag and drop</li>
<li>性能优化与分析</li>
<li>安全和隐私</li>
<li>其他核心平台额外收录模块，如 Mutation observers</li>
<li>HTTP,Cookies 等基础模块</li>
<li>各种其他的…</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/9277731-e96debd8fc6b0bda.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="The Web Platform Browser technologies.png"></p>
<p>页面上用图标指出了各个技术规范的制定组织，以及在 caniuse 和 MDN 中的地址，同时给出了该项技术的使用建议–理解使用/谨慎使用</p>
<p>细心的同学可以发现，<code>WebSocket API</code> 等技术和 HTML 都是定义在同一规范文档 <a href="https://html.spec.whatwg.org/multipage/" target="_blank" rel="noopener">https://html.spec.whatwg.org/multipage/</a> 中，这个后文会说原因</p>
<h2 id="当我们谈到-HTML-规范的时候，我们在说什么？"><a href="#当我们谈到-HTML-规范的时候，我们在说什么？" class="headerlink" title="当我们谈到 HTML 规范的时候，我们在说什么？"></a>当我们谈到 HTML 规范的时候，我们在说什么？</h2><p>我们知道 html 是一种超文本标记语言，所以 HTML 规范指的是 html（包括文档，元素和语法） 的编码规范？</p>
<p>不是， HTML 规范 != HTML 编码规范 。HTML 规范是对包括 html 语言在内的多种技术的规范定义，是浏览器开发者必须遵循的标准，并提供上层接口供页面开发者使用。</p>
<h2 id="HTML-规范是什么"><a href="#HTML-规范是什么" class="headerlink" title="HTML 规范是什么"></a>HTML 规范是什么</h2><blockquote>
<p>The HTML Standard is a kitchen sink full of technologies for the web. It includes the core markup language for the web, HTML, as well as numerous APIs like Web Sockets, Web Workers, localStorage, etc.</p>
</blockquote>
<p>HTML 规范是多种 Web 技术的集合。它包括用于 Web 的核心标记语言 HTML 以及 Web Sockets, Web Workers, localStorage 等众多API。相对于其他规范，它在 Web 平台的技术规范中的位置总结如下：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/9277731-9ae0f5bbf0919398.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h3 id="什么是-HTML5-？"><a href="#什么是-HTML5-？" class="headerlink" title="什么是 HTML5 ？"></a>什么是 HTML5 ？</h3><p>狭义上来说， HTML5 定义 HTML 标准的最新的版本，因此本文也可以说是 HTML5 标准</p>
<p>广义上来说， HTML5 泛指现代 Web 技术，包括本文所定义的标准外，还有其他如 <code>Notifications API</code>, <code>WebRTC</code> 等等</p>
<p>相关的还有 h5 这个名词，在国内偏向于指代移动端的 web 页面的解决方案</p>
<h2 id="整体结构"><a href="#整体结构" class="headerlink" title="整体结构"></a>整体结构</h2><p>本节介绍 HTML 规范的整体结构。</p>
<p>对于每一小节，会先介绍主体内容，然后列出相关技术点方便以后查找，可能还会给出注意事项</p>
<p>先上目录：</p>
<ol>
<li>概述</li>
<li>通用基础结构</li>
<li>HTML 文档的语义、结构及API</li>
<li>HTML 元素</li>
<li>Microdata</li>
<li>用户交互</li>
<li>页面加载</li>
<li>Web 应用 API</li>
<li>通信</li>
<li>Web workers</li>
<li>Web 存储</li>
<li>HTML 语法</li>
<li>XML 语法</li>
<li>渲染</li>
<li>废弃的特性</li>
<li>IANA 注意事项</li>
</ol>
<p>需要重点看的有：7,8</p>
<h3 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h3><p>介绍本规范的结构，提供阅读说明及排版。</p>
<p>简单介绍了跨站通信和html的编写以及常见的语法错误</p>
<p>提供了用于发现 HTML 错误的工具 – <a href="https://whatwg.org/validator/" target="_blank" rel="noopener">HTML Conformance Checkers</a> </p>
<h3 id="2-通用基础结构"><a href="#2-通用基础结构" class="headerlink" title="2. 通用基础结构"></a>2. 通用基础结构</h3><p>提供了术语说明和依赖的定义</p>
<blockquote>
<p>规则中依赖的其他规范的定义都会在本节做个概要描述</p>
</blockquote>
<p><code>case-sensitive</code> 表示区分大小写的字符串比较</p>
<p>定义了策略控制功能，如 autoplay, document-domain</p>
<p>定义了常见的 microsyntaxes ，一些语法类型的问题可以看这里</p>
<blockquote>
<p>HTML 中有很多地方接受特定的数据类型，如日期和数字，本节描述了对应类型内容应符合的标准，以及如何解析</p>
</blockquote>
<p>定义了 URL ，描述了解析过程，以及 base URLs 变动后的效果</p>
<blockquote>
<p>仅表层介绍，具体的需要调整至 URL 规范中查看</p>
</blockquote>
<p>定义了资源获取，包括同/跨域类型定义，资源类型确定，meta 元素字符编码提取过程，CORS 设置属性，referrer 属性，nonce 属性</p>
<p>定义了通用 DOM 接口，包括 IDL 属性获取和设置，HTMLCollection 等集合接口，DOMStringList 接口，Document 的垃圾回收</p>
<p>定义了结构化数据，包括可序列化对象和可传输对象等</p>
<blockquote>
<p>这一小节属于比较底层了</p>
</blockquote>
<h3 id="3-HTML-文档的语义、结构及API"><a href="#3-HTML-文档的语义、结构及API" class="headerlink" title="3. HTML 文档的语义、结构及API"></a>3. HTML 文档的语义、结构及API</h3><p>介绍了 HTML 文档的生命周期，一个 HTML 文档表现为一个 Document 对象，其上有各种属性如元数据管理，DOM 树访问器，动态标记插入，用户交互及 onreadystatechange </p>
<p>关于 Document, HTML 标准在 DOM 标准之上进行了拓展</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">enum DocumentReadyState &#123; <span class="string">"loading"</span>, <span class="string">"interactive"</span>, <span class="string">"complete"</span> &#125;;</span><br><span class="line">typedef (HTMLScriptElement or SVGScriptElement) HTMLOrSVGScriptElement;</span><br><span class="line"></span><br><span class="line">[OverrideBuiltins]</span><br><span class="line">partial interface Document &#123;</span><br><span class="line">  <span class="comment">// resource metadata management 资源元数据管理</span></span><br><span class="line">  [PutForwards=href, Unforgeable] readonly attribute Location? location;</span><br><span class="line">  attribute USVString domain;</span><br><span class="line">  readonly attribute USVString referrer;</span><br><span class="line">  attribute USVString cookie;</span><br><span class="line">  readonly attribute DOMString lastModified;</span><br><span class="line">  readonly attribute DocumentReadyState readyState;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// DOM tree accessors DOM 树访问器</span></span><br><span class="line">  getter object (DOMString name);</span><br><span class="line">  [CEReactions] attribute DOMString title;</span><br><span class="line">  [CEReactions] attribute DOMString dir;</span><br><span class="line">  [CEReactions] attribute HTMLElement? body;</span><br><span class="line">  readonly attribute HTMLHeadElement? head;</span><br><span class="line">  [SameObject] readonly attribute HTMLCollection images;</span><br><span class="line">  [SameObject] readonly attribute HTMLCollection embeds;</span><br><span class="line">  [SameObject] readonly attribute HTMLCollection plugins;</span><br><span class="line">  [SameObject] readonly attribute HTMLCollection links;</span><br><span class="line">  [SameObject] readonly attribute HTMLCollection forms;</span><br><span class="line">  [SameObject] readonly attribute HTMLCollection scripts;</span><br><span class="line">  NodeList getElementsByName(DOMString elementName);</span><br><span class="line">  readonly attribute HTMLOrSVGScriptElement? currentScript; <span class="comment">// classic scripts in a document tree only</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// dynamic markup insertion 动态标记插入</span></span><br><span class="line">  [CEReactions] Document open(optional DOMString unused1, optional DOMString unused2); <span class="comment">// both arguments are ignored</span></span><br><span class="line">  WindowProxy? open(USVString url, DOMString name, DOMString features);</span><br><span class="line">  [CEReactions] <span class="keyword">void</span> close();</span><br><span class="line">  [CEReactions] <span class="keyword">void</span> write(DOMString... text);</span><br><span class="line">  [CEReactions] <span class="keyword">void</span> writeln(DOMString... text);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// user interaction 用户交互</span></span><br><span class="line">  readonly attribute WindowProxy? defaultView;</span><br><span class="line">  boolean hasFocus();</span><br><span class="line">  [CEReactions] attribute DOMString designMode;</span><br><span class="line">  [CEReactions] boolean execCommand(DOMString commandId, optional boolean showUI = <span class="literal">false</span>, optional DOMString value = <span class="string">""</span>);</span><br><span class="line">  boolean queryCommandEnabled(DOMString commandId);</span><br><span class="line">  boolean queryCommandIndeterm(DOMString commandId);</span><br><span class="line">  boolean queryCommandState(DOMString commandId);</span><br><span class="line">  boolean queryCommandSupported(DOMString commandId);</span><br><span class="line">  DOMString queryCommandValue(DOMString commandId);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// special event handler IDL attributes that only apply to Document objects</span></span><br><span class="line">  <span class="comment">// 只适用于 Document 对象的特殊事件处理器 IDL 属性</span></span><br><span class="line">  [LenientThis] attribute EventHandler onreadystatechange;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// also has obsolete members</span></span><br><span class="line">&#125;;</span><br><span class="line">Document includes GlobalEventHandlers;</span><br><span class="line">Document includes DocumentAndElementEventHandlers;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>通过了解这个，我们能更清楚的知道文档的组成，对 document 属性有疑问的都可以看本节</p>
</blockquote>
<p>介绍了 HTML 元素，规则仅表示含义，不涉及呈现，<strong>因此各个浏览器呈现出来的特定元素效果可能不一样。</strong></p>
<p>HTML 元素的基本接口</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">[Exposed=Window]</span><br><span class="line">interface HTMLElement : Element &#123;</span><br><span class="line">  [HTMLConstructor] <span class="keyword">constructor</span>();</span><br><span class="line"></span><br><span class="line">  // metadata attributes 元数据属性</span><br><span class="line">  [CEReactions] attribute DOMString title;</span><br><span class="line">  [CEReactions] attribute DOMString lang;</span><br><span class="line">  [CEReactions] attribute boolean translate;</span><br><span class="line">  [CEReactions] attribute DOMString dir;</span><br><span class="line"></span><br><span class="line">  // user interaction 用户交互</span><br><span class="line">  [CEReactions] attribute boolean hidden;</span><br><span class="line">  void click();</span><br><span class="line">  [CEReactions] attribute DOMString accessKey;</span><br><span class="line">  readonly attribute DOMString accessKeyLabel;</span><br><span class="line">  [CEReactions] attribute boolean draggable;</span><br><span class="line">  [CEReactions] attribute boolean spellcheck;</span><br><span class="line">  [CEReactions] attribute DOMString autocapitalize;</span><br><span class="line"></span><br><span class="line">  [CEReactions] attribute [TreatNullAs=EmptyString] DOMString innerText;</span><br><span class="line"></span><br><span class="line">  ElementInternals attachInternals();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">HTMLElement includes GlobalEventHandlers;</span><br><span class="line">HTMLElement includes DocumentAndElementEventHandlers;</span><br><span class="line">HTMLElement includes ElementContentEditable;</span><br><span class="line">HTMLElement includes HTMLOrSVGElement;</span><br><span class="line"></span><br><span class="line">[Exposed=Window]</span><br><span class="line">interface HTMLUnknownElement : HTMLElement &#123;</span><br><span class="line">  <span class="comment">// Note: intentionally no [HTMLConstructor]</span></span><br><span class="line">  <span class="comment">// 注意：有意没有 [HTMLConstructor]</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>介绍了 HTML 命名空间中名称为 name 的元素的元素接口的确认规则</p>
<blockquote>
<p>举例： xmp 元素原型是什么？ 答案是 HTMLPreElement （继承自 HTMLElement ）</p>
</blockquote>
<p>介绍了元素构造器用于实现自定义元素</p>
<p>定义了内容模型，即每个 HTML 元素的内容（其 DOM 中的子节点）必须符合内容模型的要求</p>
<blockquote>
<p>举例 <code>&lt;p&gt;&lt;object&gt;&lt;param&gt;&lt;ins&gt;&lt;map&gt;&lt;a href=&quot;/&quot;&gt;Apples&lt;/a&gt;&lt;/map&gt;&lt;/ins&gt;&lt;/object&gt;&lt;/p&gt;</code> <br>为了检查 a 元素中是否允许 “Apples”，要检查内容模型。 a 元素的内容模型是透明的，map 元素也是， ins 元素也是，object 元素中 ins 元素所在的部分也是。 object 元素位于 p 元素中，后者的内容模型是 短语内容。 因此 “Apples” 是允许的，因为文本是短语内容。</p>
</blockquote>
<p>介绍了通用属性，所有 HTML 元素都可以使用，如 <code>contenteditable,style,title,dir,lang</code></p>
<p>介绍了 <code>innerText</code> 的执行步骤</p>
<h3 id="4-HTML-元素"><a href="#4-HTML-元素" class="headerlink" title="4. HTML 元素"></a>4. HTML 元素</h3><p>每个元素都有一个预定义的含义，本章便解释了这些含义。 也给出了作者使用这些元素的规则，以及用户代理处理这些元素的要求。 这里包含了大量的 HTML 独有的特性，例如视频播放和副标题，表单控件和表单提交， 以及名为 HTML canvas 的 2D 图形 API。</p>
<blockquote>
<p>有具体元素使用上的疑问可以在本章中查找</p>
</blockquote>
<h3 id="5-Microdata"><a href="#5-Microdata" class="headerlink" title="5. Microdata"></a>5. Microdata</h3><p>本标准介绍了为文档增加机器可读注解的机制，这样工具可以从文档中抽取键值对的树。<br>这部分文档描述了该机制和用于将 HTML 文档转换为其他格式的一些算法。 这部分还为联系信息、日历事件和许可协议定义了一些示例的微数据词汇。</p>
<blockquote>
<p>itemscope 上的使用有疑问，先看 MDN 再看本章</p>
</blockquote>
<h3 id="6-用户交互"><a href="#6-用户交互" class="headerlink" title="6. 用户交互"></a>6. 用户交互</h3><p>HTML Document 可以提供一些用户与内容交互以及用户修改内容的机制，在本章中给出了这些机制的描述。 </p>
<p>提供了 hidden 属性的描述</p>
<blockquote>
<p>display: block 可以覆盖 hidden 的效果</p>
</blockquote>
<p>描述了惰性子树的概念</p>
<blockquote>
<p>举个常见的例子，在A元素中 mouseDown 然后移动到 B 元素上并 mouseUp ,mouseMove 和 click 事件是在A元素上触发，B 是惰性的</p>
</blockquote>
<p>描述了焦点的工作机制</p>
<blockquote>
<p>这里的处理挺复杂的</p>
</blockquote>
<p>描述了用于激活元素的指定快捷键 – accesskey </p>
<p>描述了可编辑元素的相关接口和 API：contenteditable, designMode, execCommand, inputmode</p>
<p>描述了元素拖拽的相关接口和处理过程，其中部分章节是非规范的，所以浏览器间的实现会有差异</p>
<h3 id="7-页面加载"><a href="#7-页面加载" class="headerlink" title="7. 页面加载"></a><strong>7. 页面加载</strong></h3><p>这部分定义了很多影响处理多页面环境的特性。要深入理解<strong>浏览器的运行过程</strong>，本章节需要细读。</p>
<p>描述了浏览上下文的定义和分类，包括嵌套浏览上下文（iframe）和辅助浏览上下文（window.opener）</p>
<p>描述了 Window, WindowProxy, 和 Location 对象的安全基础设施</p>
<blockquote>
<p>这里介绍了 window.open 等方法的执行机制</p>
</blockquote>
<p>介绍了 Origin 的定义和同源判断算法，以及 <code>document.domain</code> 赋值描述</p>
<p>介绍了沙盒机制（sandboxing）</p>
<p>介绍了会话历史和导航接口： history 和 location</p>
<p>描述了浏览上下文导航和页面加载处理模型</p>
<p>描述了离线应用缓存。</p>
<h3 id="8-Web-应用-API"><a href="#8-Web-应用-API" class="headerlink" title="8. Web 应用 API"></a><strong>8. Web 应用 API</strong></h3><p>这部分介绍了 HTML 应用脚本的基本特性。也是需要重点细读的章节</p>
<p>介绍了脚本,包括 <code>javascript: URL</code> ，启用禁用脚本，脚本处理模型，<strong>Event Loops</strong> 和浏览器事件</p>
<blockquote>
<p>Event Loops 一节还讲述了和<a href="https://html.spec.whatwg.org/#update-the-rendering" target="_blank" rel="noopener">渲染引擎的交互</a></p>
</blockquote>
<p>介绍了 WindowOrWorkerGlobalScope mixin，描述了全局对象上公开的 API</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">typedef (DOMString or <span class="built_in">Function</span>) TimerHandler;</span><br><span class="line"></span><br><span class="line">interface mixin WindowOrWorkerGlobalScope &#123;</span><br><span class="line">  [Replaceable] readonly attribute USVString origin;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// base64 工具方法</span></span><br><span class="line">  DOMString btoa(DOMString data);</span><br><span class="line">  ByteString atob(DOMString data);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// timers</span></span><br><span class="line">  long setTimeout(TimerHandler handler, optional long timeout = <span class="number">0</span>, any... arguments);</span><br><span class="line">  <span class="keyword">void</span> clearTimeout(optional long handle = <span class="number">0</span>);</span><br><span class="line">  long setInterval(TimerHandler handler, optional long timeout = <span class="number">0</span>, any... arguments);</span><br><span class="line">  <span class="keyword">void</span> clearInterval(optional long handle = <span class="number">0</span>);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// microtask queuing</span></span><br><span class="line">  <span class="keyword">void</span> queueMicrotask(VoidFunction callback);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ImageBitmap</span></span><br><span class="line">  <span class="built_in">Promise</span>&lt;ImageBitmap&gt; createImageBitmap(ImageBitmapSource image, optional ImageBitmapOptions options);</span><br><span class="line">  <span class="built_in">Promise</span>&lt;ImageBitmap&gt; createImageBitmap(ImageBitmapSource image, long sx, long sy, long sw, long sh, optional ImageBitmapOptions options);</span><br><span class="line">&#125;;</span><br><span class="line">Window includes WindowOrWorkerGlobalScope;</span><br><span class="line">WorkerGlobalScope includes WindowOrWorkerGlobalScope;</span><br></pre></td></tr></table></figure>

<p>其中介绍了 Base64 工具方法 , Timers 执行过程，microtask 和 ImageBitmap 处理</p>
<p>介绍了动态标记插入</p>
<blockquote>
<p>万恶的 document.write</p>
</blockquote>
<p>介绍了用户提示窗口方法： alert,confirm,prompt 的内部处理和 print 打印机提示方法</p>
<blockquote>
<p>可以了解这些方法执行时再事件循环中的处理是怎样的</p>
</blockquote>
<p>介绍了系统状态和功能 Navigator ,描述了基本功能接口和自定义方案处理程序</p>
<blockquote>
<p> 因此浏览器可以通过自定义方案处理程序拓展功能，如 geo , gamepads</p>
</blockquote>
<p>最后介绍了动画帧，定义了 requestAnimationFrame 和  cancelAnimationFrame</p>
<h3 id="9-通信-API"><a href="#9-通信-API" class="headerlink" title="9. 通信 API"></a>9. 通信 API</h3><p>这部分描述了 HTML 编写的应用可用来与同一客户端中的，不同域名的其他应用通信的一些机制。 也介绍了一个服务器推送事件流机制，称为 Server Sent Events 或 EventSource, 以及一个为脚本提供的双向全双工套接字协议，称为 Web Sockets。</p>
<p>首先介绍了继承自 Event 的 MessageEvent 接口，本章介绍的事件消息都是基于 MessageEvent 接口</p>
<p>介绍了服务器发送的事件，引入了 EventSource 接口定义和实现</p>
<p>介绍了 Web sockets  的组成和内部处理</p>
<p>引入了 postMessage 跨文档通信，用来解决非同源文档间通信问题，且不会造成跨站脚本攻击</p>
<p>介绍了 MessageChannel 通道用来实现不同浏览上下文之间代码通信</p>
<p>最后介绍了向其他浏览上下文广播的方案 BroadcastChannel</p>
<h3 id="10-Web-workers"><a href="#10-Web-workers" class="headerlink" title="10. Web workers"></a>10. Web workers</h3><p>这部分定义了 JavaScript 后台线程的 API。</p>
<p>描述了一些使用场景，如数字密集型计算，共享 worker </p>
<p>描述了作用域和事件循环</p>
<p>描述了可用的 API</p>
<h3 id="11-Web-storage"><a href="#11-Web-storage" class="headerlink" title="11. Web storage"></a>11. Web storage</h3><p>这部分定义了一个基于键值对的客户端存储机制。</p>
<p>定义了我们常用的 API: localStorage 和 sessionStorage 以及 storage 事件</p>
<blockquote>
<p>两者的区别是 sessionStorage 在浏览器关闭后内容会消失</p>
</blockquote>
<p>描述了 storage 的可用磁盘空间，不过标准没有给出具体值，只是建议每个域 5M 的限制（未压缩前）</p>
<p>描述了 storage 的隐私和安全问题</p>
<h3 id="12-HTML-语法"><a href="#12-HTML-语法" class="headerlink" title="12. HTML 语法"></a>12. HTML 语法</h3><p>本章描述有 HTML MIME type 标注的资源的语法规则</p>
<p>介绍了文档的组成部分，包括 DOCTYPE 和 Elements 类型。描述了标签和属性的解析规则</p>
<p>描述了 HTML 文档解析的处理模型，包括错误处理，输入字节流，解析状态，Tokenization 和树结构等</p>
<img width="300" src="https://whatwg-cn.github.io/html/images/parsing-model-overview.svg"/>

<p>从图中也可看出 html 解析和脚本执行的关系</p>
<blockquote>
<p>脚本执行会阻塞 DOM 的解析，试想下，不阻塞的话，脚本中修改了 DOM 那还得调整原来构建的 DOM 树</p>
</blockquote>
<p>描述了 HTML 片段的序列化和解析</p>
<h3 id="13-XML-语法"><a href="#13-XML-语法" class="headerlink" title="13. XML 语法"></a>13. XML 语法</h3><p>本章描述 XML 资源的语法规则，主要是描述 XML 文档的解析，以及 XML 片段的序列化和解析</p>
<h3 id="14-渲染"><a href="#14-渲染" class="headerlink" title="14. 渲染"></a>14. 渲染</h3><p>这部分定义了 Web 浏览器默认的渲染规则。</p>
<p>注意，本章仅是建议，没有要求浏览器必须这样实现</p>
<blockquote>
<p>因此，各种渲染引擎的效果不一样是按规范来</p>
</blockquote>
<p>本章更多的是讲元素的预期渲染效果，渲染引擎机制请看 Event Loops 一节</p>
<h3 id="15-废弃的特性"><a href="#15-废弃的特性" class="headerlink" title="15. 废弃的特性"></a>15. 废弃的特性</h3><p>包括三部分</p>
<ol>
<li>过时但仍可用的特征，如在 img 上指定 border 属性</li>
<li>不可用的特征，如使用 applet 元素（应该用 embed 代替）</li>
<li>一些元素，API 应该实现的接口</li>
</ol>
<p>这部分内容比较针对浏览器开发者</p>
<h3 id="16-IANA-considerations"><a href="#16-IANA-considerations" class="headerlink" title="16. IANA considerations"></a>16. IANA considerations</h3><p>本章主要描述使用资源类型和协议时的一些注意事项</p>
<h2 id="问题记录"><a href="#问题记录" class="headerlink" title="问题记录"></a>问题记录</h2><h3 id="Q1-页面跳转和导航的代码执行问题"><a href="#Q1-页面跳转和导航的代码执行问题" class="headerlink" title="Q1. 页面跳转和导航的代码执行问题"></a>Q1. 页面跳转和导航的代码执行问题</h3><p>下面代码分别输出什么，为什么？请从浏览上下文和事件循环等角度分析。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onClick1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">window</span>.open(<span class="string">'https://www.baidu.com'</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"onClick1"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onClick21</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  location.href = <span class="string">"https://www.baidu.com"</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"onClick21"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onClick22</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  location.href = <span class="string">"https://www.baidu.com"</span></span><br><span class="line">  <span class="comment">// 3s</span></span><br><span class="line">  <span class="keyword">let</span> start = +<span class="keyword">new</span> <span class="built_in">Date</span></span><br><span class="line">  <span class="keyword">while</span>(+<span class="keyword">new</span> <span class="built_in">Date</span> - start&lt; <span class="number">3</span>*<span class="number">1000</span>)&#123;&#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"onClick22"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onClick23</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">// 未能加载成功的网站</span></span><br><span class="line">  location.href = <span class="string">"https://sssss"</span></span><br><span class="line">  <span class="comment">// 3s</span></span><br><span class="line">  <span class="keyword">let</span> start = +<span class="keyword">new</span> <span class="built_in">Date</span></span><br><span class="line">  <span class="keyword">while</span>(+<span class="keyword">new</span> <span class="built_in">Date</span> - start&lt; <span class="number">3</span>*<span class="number">1000</span>)&#123;&#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"onClick23"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onClick3</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  history.back()</span><br><span class="line">  <span class="comment">// 3s</span></span><br><span class="line">  <span class="keyword">let</span> start = +<span class="keyword">new</span> <span class="built_in">Date</span></span><br><span class="line">  <span class="keyword">while</span>(+<span class="keyword">new</span> <span class="built_in">Date</span> - start&lt; <span class="number">3</span>*<span class="number">1000</span>)&#123;&#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"onClick3"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<details>
  <summary>Answer</summary>

<p>onClick21 onClick23 onClick3 会输出</p>
<p>仅以 chrome 的实现为例，每个标签页都是独立的用户代理（user agent）</p>
<p>首先，页面 A 存在着（至少）一个浏览上下文，并对应着一个 Event Loop </p>
<blockquote>
<p>考虑嵌套浏览上下文和辅助浏览上下文，所以这边用的是<strong>至少</strong></p>
</blockquote>
<p>页面 A 中执行了某段同步代码（一个Task），在其中调用了 <a href="https://html.spec.whatwg.org/#apis-for-creating-and-navigating-browsing-contexts-by-name" target="_blank" rel="noopener">window.open</a> 方法，该方法是立即执行的</p>
<blockquote>
<p>内部做了很多处理，可以点链接看看</p>
</blockquote>
<p>执行完毕 ，此时会创建一个新的浏览上下文以及对应的 Event Loop </p>
<blockquote>
<p>如果 页面 A 采用 opener 参数打开的页面 B，则页面 B 还有一个辅助浏览上下文，指向页面 A 的浏览上下文，共用同一个 Event loop？？</p>
</blockquote>
<p>如果要加载的文档是 html ，页面 B 的用户代理会排一个 Task 创建 Document 对象，标记为 HTML 文档，其后读取和解析文档。</p>
<p>location 跳转</p>
<p>location 是同步执行的，后台线程等解析完文档就会跳转，不会等后面的同步代码。通常我们后面的同步代码很快执行，所以会误以为 location 是异步执行的</p>
<p>详见 <a href="https://stackoverflow.com/questions/37521172/is-javascript-location-href-call-is-asynchronous" target="_blank" rel="noopener">stackoverflow</a> 和 <a href="https://www.zhihu.com/question/42268360/answer/207444712" target="_blank" rel="noopener">设置location.href，为什么不会立即跳转? - 知乎</a></p>
<blockquote>
<p>PS: 还没详细看规范，不知道是不是这样处理</p>
</blockquote>
<p>history 跳转是一个 Task，因此它会在本次同步代码执行完毕后才执行</p>
<blockquote>
<p>这个看运行时环境实现，可能其他任务还会先与该 Task 前执行</p>
</blockquote>
<p>总结： <code>window.open</code> 和 <code>location.href</code> 不属于 Web API 的范畴，也就不走 event loop 那一套</p>
</details>

<p>未完待续…</p>

    </div>

    
    
    
        <div class="reward-container">
  <div>您的支持将鼓励我继续创作！</div>
  <button disable="enable" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/uploads/wechatpay.png" alt="gahing 微信支付">
        <p>微信支付</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/uploads/alipay.png" alt="gahing 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/HTML/" rel="tag"># HTML</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/12/10/2019Q4/%E5%89%8D%E7%AB%AF%E9%95%BF%E5%88%97%E8%A1%A8%E5%8E%9F%E7%90%86%E5%8F%8A%E4%BC%98%E5%8C%96/" rel="prev" title="前端长列表原理及优化">
      <i class="fa fa-chevron-left"></i> 前端长列表原理及优化
    </a></div>
      <div class="post-nav-item">
    <a href="/2019/12/14/2019Q4/HTML%E6%96%87%E6%A1%A3%E7%9A%84%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/" rel="next" title="从输入url后浏览器发生了什么">
      从输入url后浏览器发生了什么 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查找规范"><span class="nav-number">2.</span> <span class="nav-text">查找规范</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#当我们谈到-HTML-规范的时候，我们在说什么？"><span class="nav-number">3.</span> <span class="nav-text">当我们谈到 HTML 规范的时候，我们在说什么？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTML-规范是什么"><span class="nav-number">4.</span> <span class="nav-text">HTML 规范是什么</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#什么是-HTML5-？"><span class="nav-number">4.1.</span> <span class="nav-text">什么是 HTML5 ？</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#整体结构"><span class="nav-number">5.</span> <span class="nav-text">整体结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-概述"><span class="nav-number">5.1.</span> <span class="nav-text">1. 概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-通用基础结构"><span class="nav-number">5.2.</span> <span class="nav-text">2. 通用基础结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-HTML-文档的语义、结构及API"><span class="nav-number">5.3.</span> <span class="nav-text">3. HTML 文档的语义、结构及API</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-HTML-元素"><span class="nav-number">5.4.</span> <span class="nav-text">4. HTML 元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-Microdata"><span class="nav-number">5.5.</span> <span class="nav-text">5. Microdata</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-用户交互"><span class="nav-number">5.6.</span> <span class="nav-text">6. 用户交互</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-页面加载"><span class="nav-number">5.7.</span> <span class="nav-text">7. 页面加载</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-Web-应用-API"><span class="nav-number">5.8.</span> <span class="nav-text">8. Web 应用 API</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-通信-API"><span class="nav-number">5.9.</span> <span class="nav-text">9. 通信 API</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-Web-workers"><span class="nav-number">5.10.</span> <span class="nav-text">10. Web workers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-Web-storage"><span class="nav-number">5.11.</span> <span class="nav-text">11. Web storage</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-HTML-语法"><span class="nav-number">5.12.</span> <span class="nav-text">12. HTML 语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-XML-语法"><span class="nav-number">5.13.</span> <span class="nav-text">13. XML 语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-渲染"><span class="nav-number">5.14.</span> <span class="nav-text">14. 渲染</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-废弃的特性"><span class="nav-number">5.15.</span> <span class="nav-text">15. 废弃的特性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-IANA-considerations"><span class="nav-number">5.16.</span> <span class="nav-text">16. IANA considerations</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#问题记录"><span class="nav-number">6.</span> <span class="nav-text">问题记录</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Q1-页面跳转和导航的代码执行问题"><span class="nav-number">6.1.</span> <span class="nav-text">Q1. 页面跳转和导航的代码执行问题</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="gahing"
      src="/uploads/avatar.jpg">
  <p class="site-author-name" itemprop="name">gahing</p>
  <div class="site-description" itemprop="description">微信公众号：切图仔的前端之路</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">83</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">44</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/francecil" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;francecil" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:france.zjx@gmail.com" title="E-Mail → mailto:france.zjx@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      其他平台
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://juejin.im/user/59818c62f265da3e3a0bdbf0" title="https:&#x2F;&#x2F;juejin.im&#x2F;user&#x2F;59818c62f265da3e3a0bdbf0" rel="noopener" target="_blank">掘金</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.hongweipeng.com/index.php/author/8/" title="https:&#x2F;&#x2F;www.hongweipeng.com&#x2F;index.php&#x2F;author&#x2F;8&#x2F;" rel="noopener" target="_blank">西二在线</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.cnblogs.com/france/" title="https:&#x2F;&#x2F;www.cnblogs.com&#x2F;france&#x2F;" rel="noopener" target="_blank">博客园</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://blog.csdn.net/u011644423/" title="https:&#x2F;&#x2F;blog.csdn.net&#x2F;u011644423&#x2F;" rel="noopener" target="_blank">CSDN</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        
  <div class="beian"><a href="http://www.beian.miit.gov.cn/" rel="noopener" target="_blank">闽ICP备19024221号-1 </a>
  </div>

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">gahing</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.1.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.6.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
